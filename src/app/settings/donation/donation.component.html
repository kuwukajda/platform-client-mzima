<h1>Setup Donation</h1>

<form (ngSubmit)="save()" [formGroup]="donationForm" novalidate>
  <div class="form-row toggle-group">
    <div class="toggle">
      <mat-slide-toggle formControlName="enabled" data-qa="monetization-toggle">
        {{ 'app.enable_monetization' | translate }}
      </mat-slide-toggle>
    </div>
  </div>

  <div class="form-row">
    <mat-label translate>settings.donation.title.label</mat-label>
    <mat-form-field appearance="outline">
      <input
        matInput
        placeholder="{{ 'settings.donation.title.placeholder' | translate }}"
        formControlName="title"
        required
        data-qa="title"
      />
      <mat-error *ngIf="donationForm.get('title')?.invalid">
        {{ donationForm.get('title')?.errors | json }}
      </mat-error>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-label translate>Describe your donation</mat-label>
    <mat-form-field appearance="outline">
      <textarea
        data-qa="description"
        matInput
        cdkTextareaAutosize
        cdkAutosizeMinRows="4"
        cdkAutosizeMaxRows="8"
        placeholder="This is a placeholder text telling more about this donation"
        formControlName="description"
      ></textarea>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-label>Donation images</mat-label>
    <app-file-uploader
      [multiple]="true"
      [imageSrc]="images"
      (fileUpload)="uploadFile($event)"
      (delete)="imageDeleted($event)"
    >
    </app-file-uploader>
  </div>

  <div class="form-row">
    <mat-label translate>Wallet address</mat-label>
    <mat-form-field appearance="outline">
      <input
        data-qa="wallet"
        matInput
        placeholder="Enter a wallet address e.g $ilp.uphold.com/example"
        formControlName="wallet"
      />
      <mat-hint>
        Please make sure you have your wallet set up on
        <a target="_blank" href="https://uphold.com">uphold.com</a>
        to set web monetization. If you don't have a wallet already please click
        <a target="_blank" href="https://wallet.uphold.com/signup">here</a> to create one.
      </mat-hint>
    </mat-form-field>
  </div>
</form>

<div class="form-controls-panel form-controls-panel--sticky">
  <button type="button" mat-stroked-button routerLink="/settings" translate data-qa="btn-cancel">
    Cancel
  </button>
  <button type="button" color="primary" mat-raised-button (click)="save()" data-qa="btn-save">
    Save
  </button>
</div>

<div
  class="category-item"
  role="link"
  [routerLink]="['/settings/categories', category.id]"
  (keydown.enter)="gotoCategory(category.id)"
>
  <mat-checkbox
    *ngIf="isCheckbox"
    [checked]="isChecked"
    class="category-item__checkbox"
    (click)="$event.stopPropagation(); $event.stopPropagation()"
    (keydown.enter)="
      $event.stopPropagation();
      $event.preventDefault();
      isChecked = !isChecked;
      selectCategory(category)
    "
    (change)="selectCategory(category)"
  ></mat-checkbox>
  <h4 class="category-item__title" [ngClass]="customClass">
    {{ category.tag }}
  </h4>
  <mzima-client-button
    *ngIf="category.children?.length"
    class="category-item--expand"
    fill="clear"
    color="secondary"
    [iconOnly]="true"
    ariaLabel="toggle children"
    ariaExpanded="displayChildren ? 'true' : 'false'"
    [data-qa]="'toggle-children'"
    (keydown.enter)="$event.stopPropagation(); $event.preventDefault(); toggleChildren(category.id)"
    (click)="$event.stopPropagation(); $event.preventDefault(); toggleChildren(category.id)"
  >
    <mat-icon
      class="category-item__arrow"
      [ngClass]="{ 'category-item--expanded': displayChildren }"
      svgIcon="arrow-down"
    ></mat-icon>
  </mzima-client-button>
</div>

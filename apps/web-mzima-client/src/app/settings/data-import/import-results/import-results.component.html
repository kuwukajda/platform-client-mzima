<div class="completed" *ngIf="importFinished; else notFinished">
  <app-lottie-animation
    class="visual"
    [path]="'/assets/lottie/success-animation.json'"
  ></app-lottie-animation>

  <h1>{{ 'data_import.import_complete' | translate }}</h1>
  <div class="description">
    <p [innerHTML]="'data_import.complete_info' | translate : { filename: filename }"></p>
  </div>

  <div class="form-controls-panel">
    <mzima-client-button
      fill="outline"
      color="secondary"
      [routerLink]="['/feed/collection', collectionId]"
      ariaLabel="{{ 'data_import.see_imported_posts' | translate }}"
    >
      {{ 'data_import.see_imported_posts' | translate }}
    </mzima-client-button>
    <mzima-client-button
      [routerLink]="['/settings/data-import']"
      ariaLabel="{{ 'data_import.import_another' | translate }}"
    >
      {{ 'data_import.import_another' | translate }}
    </mzima-client-button>
  </div>
</div>

<ng-template #notFinished>
  <mat-progress-bar class="progress" mode="indeterminate"></mat-progress-bar>
  <h1>{{ 'data_import.nearly_complete' | translate }}</h1>
  <div class="description">
    <p>{{ 'data_import.finish_info' | translate }}</p>
  </div>

  <div class="form-controls-panel">
    <mzima-client-button
      fill="outline"
      color="secondary"
      *ngIf="document.magic"
      (buttonClick)="getPollingInfo()"
      aria-label="Get the latest polling information"
    >
      {{ 'data_import.get_polling_info' | translate }}
    </mzima-client-button>
    <mzima-client-button
      [routerLink]="['/settings/data-import']"
      aria-label="Go to data import settings to import another data source"
    >
      {{ 'data_import.import_another' | translate }}
    </mzima-client-button>
  </div>
  <!-- TODO: FIXME: DEBUG INFO -->
  <pre>{{ pollingInfo | json }}</pre>
  <!-- EOF Debug -->
</ng-template>
